@tailwind base;
@tailwind components;
@tailwind utilities;

html {
  scroll-behavior: smooth;
}

/* Code block styling - dark theme */
.prose pre {
  background-color: #111827 !important;
  border: 1px solid #374151 !important;
}

.prose pre code {
  background-color: transparent !important;
  padding: 0 !important;
}

/* Non-highlighted code text - ensure it's bright and readable */
.prose pre code:not(.hljs) {
  color: #f8fafc !important; /* Very light text for non-highlighted code */
}

/* For highlighted code blocks - only fix the base/default text color */
.prose pre code.hljs {
  background: transparent;
  color: #e5e7eb !important; /* Light gray for plain text - github-dark colors will override for highlighted tokens */
}

/* Code block wrapper for copy button */
.code-block-wrapper {
  position: relative;
}

.code-block-wrapper:hover .copy-code-btn {
  opacity: 1 !important;
}

/* Highlight.js code block styling */
.prose pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 0;
  background: transparent;
}

/* Allow highlight.js to apply its own colors - don't override */
.prose pre code.hljs {
  /* Remove any color inheritance that would override highlight.js */
}

/* Task list (checkbox) styling - ensure visibility and contrast */
.prose ul li input[type="checkbox"] {
  margin-right: 0.5rem;
  margin-left: -1.5rem;
  width: 1rem;
  height: 1rem;
  cursor: default;
  accent-color: #3b82f6; /* blue-500 */
  opacity: 1 !important;
  appearance: checkbox !important;
  -webkit-appearance: checkbox !important;
  border: 2px solid #6b7280 !important; /* gray-500 */
  background-color: white !important;
}

.prose ul li input[type="checkbox"]:checked {
  accent-color: #3b82f6; /* blue-500 */
  background-color: #3b82f6 !important;
  border-color: #3b82f6 !important;
}

/* Ensure task list items have proper text color - override any code block styling */
.prose ul li:has(input[type="checkbox"]),
.prose ul li input[type="checkbox"] + * {
  color: #374151 !important; /* gray-700 - dark text for readability */
  background-color: transparent !important;
}

/* Make sure task list text isn't inside a code block */
.prose ul li:has(input[type="checkbox"]) {
  list-style: none;
  padding-left: 0;
}

.prose ul:has(li input[type="checkbox"]) {
  list-style: none;
  padding-left: 1.5rem;
}

/* Search modal animation */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Ensure docs container takes full height and doesn't scroll */
#docs-app-root {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  height: 100%;
  min-height: 100vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Ensure content container doesn't scroll */
.docs-container {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  height: 100%;
  min-height: 100vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Ensure main content area can scroll and has proper padding at bottom */
.docs-main-content {
  overflow-y: auto;
  overflow-x: hidden;
  flex: 1;
  padding-bottom: 2rem; /* Add padding at bottom to prevent content cutoff */
}

/* =============================================================================
   Mermaid Diagram Styles
   
   IMPORTANT: Be very careful with selectors here. Overly broad rules can break
   diagram rendering (hiding lines, wrong colors, etc.)
   ============================================================================= */

/* Container styling */
.mermaid-diagram {
  margin: 1rem 0;
}

.mermaid-container {
  background-color: white;
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  padding: 1rem;
  overflow-x: auto;
}

/* Make label background rects transparent - ONLY for node labels, not all rects */
.mermaid-diagram svg .nodes .node > g.label > rect {
  fill: transparent !important;
  stroke: none !important;
}

/* Text visibility - be specific to avoid affecting other elements */
.mermaid-diagram svg .nodes text,
.mermaid-diagram svg .clusters text,
.mermaid-diagram svg .edgeLabels text {
  fill: #333 !important;
  font-family: Arial, Helvetica, sans-serif !important;
  visibility: visible !important;
}

/* Gantt chart - proper sizing */
.mermaid-diagram.mermaid-type-gantt .mermaid-container {
  overflow-x: auto;
  min-width: 100%;
}

.mermaid-diagram.mermaid-type-gantt svg {
  min-width: 800px;
  height: auto;
}